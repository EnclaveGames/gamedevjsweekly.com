---
import archive from '../data/archive'
import Layout  from '../layouts/Layout.astro'

export function getStaticPaths() {
  return Promise.all(archive.map(async v => ({
    params: {
      id: v.i + ''
    },
    props: {
      title:   v.title,
      image:   v.image,
      dt:      v.dt,
      at:      v.at,
      content: await (v.content)
    }
  })))
}
---

<Layout title={ Astro.props.title + ' | Issue #' + Astro.params.id} image={ Astro.props.image }>
  <main id=i class=l-c>
    <header id=p-h>
      <small>
        <time datetime={Astro.props.dt}>{Astro.props.at}</time>
        â€” issue #{Astro.params.id}
      </small>
      <h1>{ Astro.props.title }</h1>
    </header>
    <Fragment set:html={ Astro.props.content } />
  </main>
</Layout>